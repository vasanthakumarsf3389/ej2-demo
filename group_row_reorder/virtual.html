<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Syncfusion JavaScript (ES5) UI Control</title>
        <link href="https://fonts.googleapis.com/css?family=Inter" rel="stylesheet" />
<!-- <link id="sample-themes" href="../material3/material3-1.css" rel="stylesheet" type="text/css"/> -->
        <!-- <link href="https://cdn.syncfusion.com/ej2/21.2.3/material.css" rel="stylesheet"> -->
        <link href="./grid-styles/material.css" class="theme-primary1" rel="stylesheet" />
        <link href="./theme-studio/material.css" class="theme-primary" rel="stylesheet" />
        <script src="https://cdn.syncfusion.com/ej2/ej2-base/dist/global/ej2-base.min.js" type="text/javascript"></script>
        <script src="https://cdn.syncfusion.com/ej2/22.1.34/dist/ej2.min.js" type="text/javascript"></script>
        <!-- <script src="./ej2.min.js"></script> -->
    
<body>
    <div id="Tooltip" style="text-align: center;">
        <div class="toolbarContainer">
            <h2>Syncfusion JavaScript (ES5) Grid Control</h2>
        </div>
    </div>
    
    <div id="container">
        <div>
            <div style="padding: 10px; display: inline-block;">
                <input id="rtlmode" type="checkbox" />
            </div>
            <div style="padding: 10px; display: inline-block;">
                <input id="biggermode" type="checkbox" />
            </div>
        </div>
        <div id="default">
            <h3 style="display: inline-block;">Themes: </h3>
            <select id="theme"> 
                <option value="material">material</option>
                <option value="material-dark">material-dark</option>
                <option value="material3-dark">material3-dark</option>
                <option value="material3">material3</option>
                <option value="fluent">fluent</option>
                <option value="fluent-dark">fluent-dark</option>
                <option value="bootstrap">bootstrap</option>
                <option value="bootstrap-dark">bootstrap-dark</option>
                <option value="bootstrap4">bootstrap4</option>
                <option value="bootstrap5">bootstrap5</option>
                <option value="fabric">fabric</option>
                <option value="fabric-dark">fabric-dark</option>
                <option value="tailwind">tailwind</option>
                <option value="highcontrast">highcontrast</option>
            </select>
            </div>
        </div>
        <!-- <h3 style="display: inline-block;">Locale Type: </h3>
        <input type="text" tabindex="1" id="localeType"> -->
        
        <h3 style="display: inline-block;">Column Selection: </h3>
        <input type="checkbox" tabindex="1" id='columnSelection'/>
        <h3 style="display: inline-block;">Filter Type: </h3>
        <input type="text" tabindex="1" id='filterType' />
        <h3 style="display: inline-block;">Enable FilterBar Operator: </h3>
        <input type="checkbox" tabindex="1" id='filterBarOperator'/>
        <h3 style="display: inline-block;">Selection Mode: </h3>
        <input type="text" tabindex="1" id='mode' />
        <h3 style="display: inline-block;">Selection Type: </h3>
        <input type="text" tabindex="1" id='type' />
        <h3 style="display: inline-block;">Edit Mode: </h3>
        <input type="text" tabindex="1" id='editMode' />
        <h3 style="display: inline-block;">Enable Group Reorder: </h3>
        <input type="checkbox" tabindex="1" id='groupReorder'/>
        <div id="Grid"></div>
    </div>
    <script src="https://ej2.syncfusion.com/javascript/demos/grid/default/datasource.js"
        type="text/javascript"></script>
    <script>
        var filtertype = [
            { id: 'FilterBar', type: 'FilterBar' },
            { id: 'Menu', type: 'Menu' },
            { id: 'CheckBox', type: 'CheckBox' },
            { id: 'Excel', type: 'Excel' }
        ];
        var type = [
            { id: 'Single', type: 'Single' },
            { id: 'Multiple', type: 'Multiple' }
        ];
        var mode = [
            { id: 'Row', mode: 'Row' },
            { id: 'Cell', mode: 'Cell' },
            { id: 'Both', mode: 'Both' }
        ];

        var editmode = [
            { id: 'Inline', mode: 'Inline' },
            { id: 'Batch', mode: 'Batch' },
            { id: 'Dialog', mode: 'Dialog' }
        ];
        var grid = new ej.grids.Grid({
            dataSource: window.orderData,
            height: 270,
            // allowPaging: true,
            allowSorting: true,
            allowGrouping: true,
            allowResizing: true,
            // gridLines: 'Both',
            allowFiltering: true,
            allowPdfExport: true,
            allowReordering: true,
            allowExcelExport: true,
            showColumnChooser: true,
            allowRowDragAndDrop: true,
            enableVirtualization: true,
            // enableRtl: true,
            filterSettings: { type: 'Excel' },
            selectionSettings: { type: 'Multiple' },
            rowSelecting: selectingEvent,
            cellSelecting : selectingEvent,
            // columnDrop: function() {
            //     debugger;
            // },
            rowDrop: function(args) {
                debugger;
            },
            // resizeStart: function() {
            //     debugger;
            // },
            // rowSelected: function(args) {
            //     debugger;
            // },
            groupSettings: { allowReordering: true, showGroupedColumn: true },
            pageSettings: { pageCount: 5, pageSizes: true },
            editSettings: { allowAdding: true, allowEditing: true, allowDeleting: true },// , mode: 'Dialog'
            toolbar: ['Add', 'Delete', 'Update', 'Cancel', 'Search', 'ExcelExport', 'PdfExport', 'CsvExport', 'Print', 'ColumnChooser'],
            contextMenuItems: ['AutoFit', 'AutoFitAll', 'SortAscending', 'SortDescending',
                'Copy', 'Edit', 'Delete', 'Save', 'Cancel', 'PdfExport', 'ExcelExport',
                'CsvExport', 'FirstPage', 'PrevPage', 'LastPage', 'NextPage'],
            columns: [
                { field: 'OrderID', headerText: 'Order ID', isPrimaryKey: true, textAlign: 'Right', width: 120, validationRules: { required: true } },
                { field: 'CustomerID', headerText: 'Customer ID', width: 120, editType: 'dropdownedit' },
                { field: 'Freight', headerText: 'Frieght', width: 120, format: 'C2', editType: 'numericedit', textAlign: 'Right' },
                { field: 'OrderDate', headerText: 'Order Date', width: 120, format: 'yMd', editType: 'datepickeredit', textAlign: 'Right' },
                { field: 'ShipCity', headerText: 'Ship City', width: 120, validationRules: { required: true, minLength: 3, maxLength: 20 } },
                { field: 'ShipName', headerText: 'Ship Name', width: 120, clipMode: 'EllipsisWithTooltip' },
                { field: 'ShipCountry', headerText: 'Ship Country', width: 120 },
                { field: 'ShipRegion', headerText: 'Ship Region', width: 120, type: 'string' },
            ],
            aggregates: [{
                columns: [
                    {
                        type: 'Sum',
                        field: 'Freight',
                        format: 'C2',
                        footerTemplate: 'Sum: ${Sum}'
                    },
                    {
                        type: 'Average',
                        field: 'Freight',
                        format: 'C2',
                        groupCaptionTemplate: 'Average: ${Average}'
                    },
                ]
            },
            {
                columns: [
                    {
                        type: 'Average',
                        field: 'Freight',
                        format: 'C2',
                        footerTemplate: 'Average: ${Average}'
                    },
                    {
                        type: 'Sum',
                        field: 'Freight',
                        format: 'C2',
                        groupFooterTemplate: 'Sum : ${Sum}'
                    },
                    // {
                    //     type: 'Average',
                    //     field: 'Freight',
                    //     format: 'C2',
                    //     groupFooterTemplate: 'Average: ${Average}'
                    // },
                ]
            }]
        });
        grid.appendTo('#Grid');

        function changesTheme() {
            var path = './theme-studio/' + listObj.text + '.css';
            var path1 = './grid-styles/' + listObj.text + '.css';
            document.querySelector('.theme-primary').href = path.toString();
            document.querySelector('.theme-primary1').href = path1.toString();
        }
        
        var listObj = new ej.dropdowns.DropDownList({
            placeholder: 'Select a theme',
            popupHeight: '200px',
            width: '250px',
            change: function () { changesTheme(); }
            });
        listObj.appendTo('#theme');

        function selectingEvent(e) {
            if (grid.selectionSettings.allowColumnSelection) {
                e.cancel = true;
            }
        }

        //Render DropDownList component for selection type.
        var dropDownType = new ej.dropdowns.DropDownList({
            dataSource: type,
            fields: { text: 'type', value: 'id' },
            value: 'Multiple',
            width: 100,
            change: function (e) {
                var type = e.value;
                grid.selectionSettings.type = type;
            }
        });
        dropDownType.appendTo('#type');

        //Render DropDownList component for selection type.
        var dropDownMode = new ej.dropdowns.DropDownList({
            dataSource: mode,
            fields: { text: 'mode', value: 'id' },
            value: 'Row',
            width: 100,
            change: function (e) {
                var mode = e.value;
                grid.selectionSettings.mode = mode;
            },
        });
        dropDownMode.appendTo('#mode');

        // enable/disable Column Selection
        var columnSelection = new ej.buttons.CheckBox({
            change: function (e) {
                grid.clearSelection();
                if (e.checked) {
                    grid.selectionSettings.allowColumnSelection = true;
                    dropDownMode.enabled = false;
                } else {
                    grid.selectionSettings.allowColumnSelection = false;
                    dropDownMode.enabled = true;
                }
            }
        }); 
        columnSelection.appendTo('#columnSelection');

        //Render DropDownList component for selection type.
        var editMode = new ej.dropdowns.DropDownList({
            dataSource: editmode,
            fields: { text: 'mode', value: 'id' },
            value: 'Inline',
            width: 100,
            change: function (e) {
                var mode = e.value;
                grid.editSettings.mode = mode;
            },
        });
        editMode.appendTo('#editMode');

        var dropDownFilterType = new ej.dropdowns.DropDownList({
            dataSource: filtertype,
            fields: { text: 'type', value: 'id' },
            value: 'Excel',
            width: 200,
            change: function (e) {
                var dropSelectedValue = e.value;
                grid.filterSettings.type = dropSelectedValue;
                grid.clearFiltering();
            }
        });
        dropDownFilterType.appendTo('#filterType');

        var filterbarOperator = new ej.buttons.CheckBox();
        filterbarOperator.appendTo('#filterBarOperator');

        document.getElementById('filterBarOperator').onclick = () => {
            if (filterbarOperator.checked) {
                grid.filterSettings.showFilterBarOperator = true;
            } else {
                grid.filterSettings.showFilterBarOperator = false;
            }
            grid.clearFiltering();
        };

        var groupReorder = new ej.buttons.CheckBox();
        groupReorder.checked = true;
        groupReorder.appendTo('#groupReorder');

        document.getElementById('groupReorder').onclick = () => {
            if (groupReorder.checked) {
                grid.groupSettings.allowReordering = true;
            } else {
                grid.groupSettings.allowReordering = false;
            }
        };

        grid.toolbarClick = function (args) {
            if (args.item.id === 'Grid_pdfexport') {
                grid.pdfExport();
            }
            if (args.item.id === 'Grid_excelexport') {
                grid.excelExport();
            }
            if (args.item.id === 'Grid_csvexport') {
                grid.csvExport();
            }
        };

        var checkBoxObj = new ej.buttons.CheckBox({ label: 'Enable RTL', change: onRtlChange });
        checkBoxObj.appendTo('#rtlmode');

        var checkBoxObj = new ej.buttons.CheckBox({ label: 'Enable Bigger', change: onBiggerChange });
        checkBoxObj.appendTo('#biggermode');

        function onRtlChange(e) {
            grid.enableRtl = e.checked;
        }

        function onBiggerChange(e) {
            e.checked ? document.body.classList.add('e-bigger') : document.body.classList.remove('e-bigger');
        }

        var tooltip = new ej.popups.Tooltip({
            beforeRender: onBeforeRender
        });
        tooltip.appendTo('#Tooltip');

        function onBeforeRender(e) {
            this.content = `<p>This sample contains the following features,</p>
            <p>1) Sorting</p>
            <p>2) Excel Filtering</p>
            <p>3) Grouping</p>
            <p>4) Paging</p>
            <p>5) Aggregate</p>
            <p>6) Row drag and drop</p>
            <p>7) Column Reordering</p>
            <p>8) Search</p>
            <p>9) Column Chooser</p>
            <p>10) Batch Editing</p>
            <p>11) Export and Print</p>
            <p>12) Context Menu</p>
            <p>13) Toolbar</p>
            <p>14) Column Resizing</p>
            <p>15) Row Selection</p>`;
        }
    </script>
</body>

</html>